{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}Fake News Detector{% endblock %}</title>
    <meta name="csrf-token" content="{{ csrf_token }}">
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    
    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <!-- Font Awesome -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    
    <!-- Unified CSS Variables -->
    <style>
        :root {
            /* Primary Colors */
            --bg-primary: linear-gradient(135deg, #0c0c0c 0%, #1a1a2e 50%, #16213e 100%);
            --bg-secondary: rgba(30, 30, 30, 0.95);
            --text-primary: #E8E8E8;
            --text-secondary: #A0A0A0;
            --text-muted: #6b7280;
            
            /* Accent Colors */
            --accent-primary: #00d4ff;
            --accent-secondary: #0099cc;
            --accent-neon: #66ccff;
            
            /* Status Colors */
            --success: #00ff88;
            --warning: #ffaa00;
            --danger: #ff4757;
            --info: #4facfe;
            
            /* Glass Morphism */
            --glass-bg: rgba(255, 255, 255, 0.08);
            --glass-border: rgba(255, 255, 255, 0.1);
            --glass-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
            
            /* Auth Pages */
            --auth-bg: #0b1220;
            --auth-panel: #ffffff;
            --auth-text: #111827;
            
            /* Transitions */
            --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html, body {
            height: 100%;
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.6;
        }

        /* Default Layout */
        .layout-default {
            background: var(--bg-primary);
            color: var(--text-primary);
            min-height: 100vh;
        }

        /* Auth Layout */
        .layout-auth {
            background: var(--auth-bg);
            color: var(--text-primary);
            min-height: 100vh;
        }

        /* Dashboard Layout */
        .layout-dashboard {
            background: var(--bg-primary);
            color: var(--text-primary);
            min-height: 100vh;
            display: flex;
        }

        /* Common Components */
        .glass-panel {
            background: var(--glass-bg);
            border: 1px solid var(--glass-border);
            border-radius: 16px;
            backdrop-filter: blur(10px);
            box-shadow: var(--glass-shadow);
        }

        .btn-primary-custom {
            background: linear-gradient(135deg, var(--accent-primary), var(--accent-neon));
            border: none;
            color: white;
            font-weight: 600;
            border-radius: 12px;
            padding: 0.75rem 1.5rem;
            transition: var(--transition);
        }

        .btn-primary-custom:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0, 212, 255, 0.3);
        }

        /* Responsive */
        @media (max-width: 768px) {
            .layout-dashboard {
                flex-direction: column;
            }
        }

        /* Page-specific overrides */
        {% block extra_css %}{% endblock %}
    </style>
</head>
<body class="{% block body_class %}layout-default{% endblock %}">
    {% block content %}{% endblock %}
    
    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    
    <!-- Common JavaScript -->
    <script>
        // CSRF Token Helper
        function getCSRFToken() {
            return document.querySelector('meta[name="csrf-token"]').getAttribute('content');
        }

        // Toast Notifications
        function showToast(message, type = 'info') {
            const toastContainer = document.getElementById('toast-container') || createToastContainer();
            const toast = document.createElement('div');
            toast.className = `toast align-items-center text-white bg-${type} border-0`;
            toast.setAttribute('role', 'alert');
            toast.innerHTML = `
                <div class="d-flex">
                    <div class="toast-body">${message}</div>
                    <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast"></button>
                </div>
            `;
            toastContainer.appendChild(toast);
            const bsToast = new bootstrap.Toast(toast);
            bsToast.show();
            
            toast.addEventListener('hidden.bs.toast', () => {
                toast.remove();
            });
        }

        function createToastContainer() {
            const container = document.createElement('div');
            container.id = 'toast-container';
            container.className = 'toast-container position-fixed top-0 end-0 p-3';
            container.style.zIndex = '9999';
            document.body.appendChild(container);
            return container;
        }
    </script>
    
    {% block extra_js %}{% endblock %}
</body>
</html>
